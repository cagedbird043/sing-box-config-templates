{
  "log": {
    "disabled": false,
    "level": "fatal",
    "timestamp": true
  },
  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "zashboard",
      "external_ui_download_url": "https://ghfast.top/https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
      "secret": "${CLASH_API_SECRET}",
      "default_mode": "rule"
    },
    "cache_file": {
      "enabled": true,
      "store_rdrc": true,
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "tag": "google",
        "type": "https",
        "server": "8.8.4.4",
        "detour": "âš¡ è‡ªåŠ¨é€‰æ‹©"
      },
      {
        "tag": "local",
        "type": "https",
        "server": "223.5.5.5"
      },
      {
        "tag": "fakeip",
        "type": "fakeip",
        "inet4_range": "198.18.0.0/15"
      }
    ],
    "rules": [
      {
        "clash_mode": "Direct",
        "server": "local"
      },
      {
        "clash_mode": "Global",
        "query_type": ["A", "AAAA"],
        "server": "fakeip"
      },
      // 1. Steam ä¸“é¡¹ (Real-IP): å¿…é¡»æœ€ä¼˜å…ˆï¼Œç¡®ä¿ CM/CDN æ‹¿çœŸå® IP ä»¥ç»´æŒ CN èº«ä»½
      // è¿™äº›åŸŸåå¿…é¡»èµ° local è§£æï¼Œé…åˆ route é‡Œçš„ç›´è¿è§„åˆ™
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "cm.steampowered.com",
              "steamserver.net",
              "steamcontent.com",
              "steamstatic.com"
            ]
          },
          { "rule_set": "geosite-steam@cn" }
        ],
        "server": "local"
      },

      // 2. å›½å†…å››çº§æ¼æ–— (Real-IP): ç¡®ä¿å›½å†…åŸŸåè§£æå‡ºçœŸå® IPï¼Œä¾› nftables/route ç»•è¿‡å†…æ ¸
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "beautifulcarrot.com",
              "miceworld.top",
              "0xc.xyz",
              "0xc.cn",
              "ash.do",
              "ash6.com",
              "ssh.github.com"
            ]
          },
          {
            // DNS å±‚é¢ä¸éœ€è¦æ¼æ–—ï¼Œç›´æ¥ç”¨å…¨é›†ï¼Œä¿è¯è§£æå‡†ç¡®æ€§
            "rule_set": [
              "geosite-cn-full",
              "geosite-geolocation-cn",
              "geosite-cn-lite",
              "geosite-microsoft@cn",
              "geosite-apple@cn",
              "geosite-google@cn"
            ]
          }
        ],
        "server": "local"
      },

      // 3. å›½å¤–/Google æµé‡ -> å¼ºåˆ¶ Fake-IP (ä¿®æ­£ç‚¹ï¼)
      // ä¹‹å‰è¿™é‡Œå†™çš„æ˜¯ server: googleï¼Œæ‰€ä»¥å®ƒè¿”å›äº† Real IPã€‚
      // ç°åœ¨æ”¹ä¸º server: fakeipï¼ŒGoogle å°±ä¼šå˜æˆ 198.18.x.x
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "services.googleapis.cn",
              "googleapis.cn",
              "xn--ngstr-lra8j.com",
              "xn--ngstr-cn-8za9o.com"
            ]
          },
          {
            "rule_set": [
              "geosite-googlefcm",
              "geosite-google",
              "geosite-geolocation-!cn",
              "geosite-youtube",
              "geosite-ai",
              "geosite-telegram",
              "geosite-github"
            ]
          }
        ],
        "server": "fakeip"
      },

      // 4. å‰©ä¸‹çš„æ‰€æœ‰ IPv4/IPv6 åœ°å€æŸ¥è¯¢ -> å¼ºåˆ¶ Fake-IP
      // å…œåº•è§„åˆ™ï¼šä¸ä»…æ˜¯ notfoundme.comï¼Œä»»ä½•æ²¡å‘½ä¸­ä¸Šé¢è§„åˆ™çš„åŸŸåéƒ½ FakeIP
      {
        "query_type": ["A", "AAAA"],
        "server": "fakeip"
      }
    ],
    "final": "google",
    "strategy": "ipv4_only",
    "independent_cache": true,
    "reverse_mapping": true
  },
  "inbounds": [
    {
      "type": "tun",
      "tag": "tun-in",
      "stack": "mixed",
      "address": ["172.18.0.1/30"],
      "auto_route": true,
      "auto_redirect": true,
      // Win11 åˆ†æ”¯éœ€æ”¹ä¸º false
      "strict_route": true,
      "mtu": 9000,
      "route_exclude_address_set": ["geoip-cn"],
      "exclude_package": [
        "android",
        "com.android.systemui",
        "com.android.networkstack",
        "com.android.networkstack.tethering",
        "com.android.providers.media.module",
        "com.android.providers.settings",
        "com.android.captiveportallogin",
        "com.google.android.captiveportallogin",
        "com.qualcomm.qti.cne",
        "com.qualcomm.qti.iwlan",
        "org.codeaurora.ims",
        "vendor.qti.imsdatachannel",
        "com.qualcomm.qti.telephonyservice",
        "com.oplus.wanhelper",
        "com.oplus.tai.wifiqoe",
        "com.oplus.battery",
        "com.qualcomm.qti.powersavemode",
        "com.oplus.athena",
        "com.oplus.deepthinker",
        "com.android.certinstaller",
        "com.google.android.ims",
        "com.qualcomm.qti.imscmservice",
        "cn.myflv.noactive",
        "com.unionpay.tsmservice",
        "com.unicom.cloudphone",
        "com.heytap.music",
        "make.more.r2d2.cellular_z.play",
        "com.sankuai.meituan",
        "com.chaoxing.mobile",
        "com.coloros.translate",
        "com.sinovatech.unicom.ui",
        "com.cnspeedtest.globalspeed",
        "com.heytap.health",
        "cn.gov.tax.its",
        "com.MobileTicket",
        "me.ele",
        "com.heytap.reader",
        "com.xingin.xhs",
        "com.tencent.mm",
        "com.icbc",
        "com.deepseek.chat",
        "bin.mt.plus",
        "com.coloros.shortcuts",
        "com.xunmeng.pinduoduo",
        "com.bilibili.app.in",
        "com.able.wisdomtree",
        "com.coloros.weather2",
        "com.coloros.compass2",
        "com.ss.android.ugc.aweme",
        "com.coloros.note",
        "com.tencent.mobileqq",
        "com.unionpay",
        "com.coloros.calculator",
        "andes.oplus.documentsreader",
        "com.coloros.calendar",
        "com.coloros.alarmclock",
        "com.oplus.consumerIRApp",
        "com.coolapk.market",
        "com.larus.nova",
        "com.jingdong.app.mall",
        "com.wisedu.cpdaily",
        "com.autonavi.minimap",
        "com.taobao.idlefish",
        "ctrip.android.view",
        "com.alibaba.android.rimet",
        "com.coloros.filemanager",
        "com.coloros.soundrecorder",
        "com.heytap.themestore",
        "com.taobao.taobao",
        "com.oplus.melody",
        "com.netease.cloudmusic",
        "com.ct.client",
        "tv.danmaku.bili",
        "com.huawei.CloudLink",
        "com.eg.android.AlipayGphone",
        "com.heytap.tas",
        "com.heytap.openid",
        "com.coloros.oshare",
        "com.oplus.nas",
        "com.android.providers.blockednumber",
        "com.oneplus.member",
        "com.oplus.securitykeyboard",
        "com.android.launcher",
        "com.oplus.dfs",
        "com.heytap.cloud",
        "com.oplus.cardigitalkey",
        "com.android.server.telecom",
        "com.oplus.phonenoareainquire",
        "com.oplus.ndsf",
        "com.coloros.ocrscanner",
        "com.coloros.video",
        "com.oplus.aiwidgets",
        "com.oplus.obrain",
        "com.oplus.onetrace",
        "com.oplus.encryption",
        "com.coloros.lockassistant",
        "com.oplus.aicall",
        "com.oplus.lfeh",
        "com.android.hotspot2.osulogin",
        "cn.ikaile.ruoshui.client",
        "com.oplus.qualityprotect",
        "org.kde.kdeconnect_tp",
        "com.oplus.ovoicemanager",
        "com.oplus.cosa",
        "com.oplus.vdc",
        "com.luckyzyx.luckytool",
        "com.oplus.viewtalk",
        "com.omarea.vtools",
        "com.coloros.remoteguardservice",
        "com.coloros.phonemanager",
        "com.oplus.eid",
        "com.newcall.overlay",
        "com.oplus.trafficmonitor",
        "com.oplus.aimemory",
        "com.oplus.aiwriter",
        "com.coloros.findmyphone",
        "com.opos.ads",
        "com.oplus.ovoicemanager.wakeup",
        "com.oplus.blacklistapp",
        "com.coloros.activation",
        "com.heytap.speechassist",
        "com.heytap.pictorial",
        "com.oplus.nfcengineertest",
        "com.oplus.safecenter",
        "com.android.managedprovisioning",
        "com.oplus.securitypermission",
        "com.coloros.sceneservice",
        "com.oplus.pay",
        "com.oplus.sauhelper",
        "com.oplus.screenshot",
        "com.oplus.ttsaccessibilityengine",
        "com.heytap.colorfulengine",
        "com.heytap.market",
        "com.fido.uafclient",
        "com.oplus.crashbox",
        "com.oplus.sos",
        "com.oplus.stdsp",
        "com.android.contacts",
        "com.oplus.multiapp",
        "com.oplus.mediaturbo",
        "com.android.calllogbackup",
        "com.nearme.instant.platform",
        "com.oplus.engineernetwork",
        "com.oplus.beaconlink",
        "com.oplus.dmp",
        "com.coloros.accessibilityassistant",
        "com.oplus.wallpapers",
        "com.coloros.floatassistant",
        "com.coloros.codebook",
        "com.coloros.securityguard",
        "com.android.cellbroadcastservice",
        "com.oplus.exsystemservice",
        "vendor.qti.data.txpwradmin",
        "com.android.nfc",
        "com.oplus.owkservice",
        "com.oplus.postmanservice",
        "com.android.mms",
        "com.wapi.wapicertmanage",
        "com.oppo.instant.local.service",
        "com.heytap.accessory",
        "com.coloros.securepay",
        "com.heytap.opluscarlink",
        "com.android.carrierconfig",
        "com.oppo.ctautoregist",
        "com.coloros.smartsidebar",
        "com.heytap.mydevices",
        "com.oplus.screenrecorder",
        "com.surcumference.fingerprintpay",
        "com.coloros.bootreg",
        "com.oplus.matrix",
        "com.oplus.camera",
        "com.oplus.audio.effectcenter",
        "com.android.stk",
        "com.coloros.assistantscreen",
        "com.coloros.colordirectservice",
        "com.coloros.digitalwellbeing",
        "com.oplus.account",
        "com.oplus.blur",
        "com.heytap.mcs",
        "com.android.wallpaperbackup",
        "com.oplus.statistics.rom",
        "com.tencent.soter.soterserver",
        "com.oplus.upgradeguide",
        "com.fido.fido2client",
        "com.android.providers.contacts",
        "com.baidu.input_oppo",
        "com.oplus.wifibackuprestore",
        "com.hchen.appretention",
        "com.oplus.bttestmode",
        "com.oplus.virtualcomm2",
        "com.oplus.sau",
        "com.oplus.travelengine",
        "com.oplus.uxdesign",
        "com.coloros.mapcom.frame",
        "com.oplus.appdetail",
        "com.oplus.owork",
        "com.heytap.vip",
        "com.coloros.ocs.opencapabilityservice",
        "com.oplus.romupdate",
        "com.android.se",
        "com.oplus.riderMode",
        "vendor.qti.data.ntnsatapp",
        "com.qualcomm.atfwd",
        "com.oplus.nearcomm",
        "com.coloros.smartlock",
        "com.oplus.aod",
        "com.fido.asm",
        "com.oplus.linker",
        "com.oplus.cota",
        "com.oplus.games",
        "com.qualcomm.uimremoteclient",
        "com.oplus.themestore",
        "com.coloros.weather.service",
        "com.coloros.sharescreen",
        "com.coloros.scenemode",
        "com.android.simappdialog",
        "com.oplus.engineercamera",
        "com.oplus.notificationmanager",
        "com.android.phone",
        "com.oplus.aiunit",
        "com.oplus.appplatform",
        "com.oplus.acc.gac",
        "com.oplus.nhs",
        "com.qualcomm.qti.devicestatisticsservice",
        "com.android.carrierdefaultapp",
        "com.oplus.healthservice",
        "com.oplus.motionsense",
        "com.coloros.gallery3d",
        "com.oplus.cast",
        "com.qti.dpmserviceapp",
        "com.oplus.engineermode",
        "com.oplus.metis",
        "com.oplus.omoji",
        "com.oplus.subsys",
        "com.qualcomm.qti.xrvd.service",
        "com.coloros.childrenspace",
        "com.android.providers.telephony",
        "com.newcall",
        "com.oplus.appsense",
        "com.oplus.cell.map",
        "com.oplus.logkit",
        "com.android.cellbroadcastreceiver",
        "com.heytap.quicksearchbox",
        "com.oplus.location",
        "com.oplus.wirelesssettings",
        "com.android.incallui",
        "com.oplus.virtualcomm",
        "com.heytap.browser",
        "vendor.qti.frameworks.utils",
        "com.coloros.translate.engine",
        "com.oplus.ether",
        "com.coloros.systemclone",
        "com.oplus.remotecontrol",
        "com.oplus.uiengine",
        "com.oplus.contentportal",
        "com.oplus.ocar",
        "com.oplus.locationproxy",
        "com.oplus.powermonitor",
        "com.qualcomm.qcrilmsgtunnel",
        "com.ted.number",
        "com.oplus.ota",
        "com.oplus.sense.netprediction"
      ],
      "platform": {
        "http_proxy": {
          "enabled": true,
          "server": "127.0.0.1",
          "server_port": 7890
        }
      }
    },
    {
      "type": "mixed",
      "listen": "0.0.0.0",
      "listen_port": 7890,
      "users": []
    },
    {
      "type": "direct",
      "tag": "dns-in",
      "network": "udp",
      "listen": "127.0.0.1",
      "listen_port": 6053
    }
  ],
  "providers": [
    {
      "tag": "${PROVIDER_NAME_1}",
      "type": "remote",
      "url": "${SUB_URL_1}",
      "path": "./provider_1_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "3m"
      }
    },
    {
      "tag": "${PROVIDER_NAME_2}",
      "type": "remote",
      "url": "${SUB_URL_2}",
      "path": "./provider_2_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "3m"
      }
    },
    {
      "tag": "${PROVIDER_NAME_3}",
      "type": "remote",
      "url": "${SUB_URL_3}",
      "path": "./provider_3_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "3m"
      }
    }
  ],
  "outbounds": [
    {
      "tag": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      ],
      "default": "âš¡ è‡ªåŠ¨é€‰æ‹©"
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "ğŸ¤– AI",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ],
      "default": "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)"
    },
    {
      "tag": "ğŸ® æ¸¸æˆæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ® SteamæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸªŸ å¾®è½¯æœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "â–¶ï¸ æ²¹ç®¡è§†é¢‘",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ‡¬ è°·æ­ŒæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ è‹¹æœæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ”‘ SSHæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "âš¡ è‡ªåŠ¨é€‰æ‹©",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "exclude": "å‰©ä½™|æµé‡|é‡ç½®|åˆ°æœŸ|è¿‡æœŸ|è®¢é˜…|å®˜ç½‘|é¢‘é“|TG|Telegram|ç¾¤ç»„|æ›´æ–°|å¥—é¤|ç»­è´¹|å®¢æœ|é€šæŠ¥|å¤±è”",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 15,
      "interval": "3m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "exclude": "ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|HongKong|å‰©ä½™|æµé‡|é‡ç½®|åˆ°æœŸ|è¿‡æœŸ|è®¢é˜…|å®˜ç½‘|é¢‘é“|TG|Telegram|ç¾¤ç»„|æ›´æ–°|å¥—é¤|ç»­è´¹|å®¢æœ|é€šæŠ¥|å¤±è”",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 15,
      "interval": "3m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
      "type": "direct"
    }
  ],
  "route": {
    "auto_detect_interface": true,
    "default_domain_resolver": "local",
    "final": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "rules": [
      { "action": "sniff" },
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "protocol": "dns" },
          { "port": 53 },
          { "inbound": ["dns-in"] }
        ],
        "action": "hijack-dns"
      },
      // 0. åŸºç¡€æ‹¦æˆª (Reject)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "port": 853 },
          { "network": "udp", "port": 443 },
          { "protocol": ["stun", "quic"] }
        ],
        "action": "reject"
      },
      // 0. åŸºç¡€ç›´è¿ (Private/LAN)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "ip_is_private": true },
          { "protocol": ["ntp", "bittorrent"] },
          { "port": 123 },
          { "domain_suffix": [".lan"] }
        ],
        "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },

      // --- æ¼æ–— Level 1: æ€¥é€Ÿå±‚ (Lite + Manual) ---
      // 20KB æå°ä½“ç§¯ï¼Œå‘½ä¸­ 90% æ—¥å¸¸æµé‡ï¼Œå¸¸é©» L1 Cache
      {
        "rule_set": [
          "geosite-cn-lite",
          "geosite-category-games@cn",
          "geosite-microsoft@cn",
          "geosite-apple@cn",
          "geosite-google@cn"
        ],
        "domain": [
          "beautifulcarrot.com",
          "miceworld.top",
          "0xc.xyz",
          "0xc.cn",
          "ash.do",
          "ash6.com",
          "ssh.github.com",
          "dl.google.com"
        ],
        "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },

      // --- æ¼æ–— Level 1.5: Steam ä¸“é¡¹ç­–ç•¥ (Dogfight360 ä¿®æ­£æ–¹æ¡ˆ) ---
      // ç¡®ä¿ IPCountry: CNï¼Œä¸‹è½½æ»¡é€Ÿï¼Œå•†åº—ç§’å¼€
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain_suffix": [
              "cm.steampowered.com",
              "steamserver.net",
              "steamcontent.com"
            ]
          },
          { "rule_set": "geosite-steam@cn" },
          {
            "ip_cidr": [
              "45.121.184.0/24",
              "103.10.124.0/23",
              "103.28.54.0/24",
              "146.66.152.0/24",
              "146.66.155.0/24",
              "153.254.86.0/24",
              "155.133.224.0/22",
              "155.133.230.0/24",
              "155.133.232.0/23",
              "155.133.234.0/24",
              "155.133.236.0/22",
              "155.133.240.0/23",
              "155.133.244.0/23",
              "155.133.246.0/24",
              "155.133.248.0/21",
              "162.254.192.0/21",
              "185.25.182.0/23",
              "190.217.32.0/22",
              "192.69.96.0/22",
              "205.196.6.0/24",
              "208.64.200.0/22",
              "208.78.164.0/22",
              "205.185.194.0/24"
            ]
          }
        ],
        "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      // C. Steam å•†åº—/ç¤¾åŒºä»£ç†
      { "rule_set": "geosite-steam", "outbound": "ğŸ® SteamæœåŠ¡" },
      // --- æ¼æ–— Level 2: åœ°ç¼˜å±‚ (Geolocation) ---
      // 32KBï¼Œå¤„ç† CDN å’Œè·¨å›½å…¬å¸ä¸­å›½åŒº
      {
        "rule_set": "geosite-geolocation-cn",
        "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      // --- æ¼æ–— Level 3: è¦†ç›–å±‚ (Full CN) ---
      // 443KB å¤§è§„åˆ™ï¼Œæ•æ‰æ‰€æœ‰é•¿å°¾å†·é—¨åŸŸå
      {
        "rule_set": "geosite-cn-full",
        "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      // 5. ä»£ç†è§„åˆ™
      { "rule_set": "geosite-ai", "outbound": "ğŸ¤– AI" },
      { "rule_set": "geosite-youtube", "outbound": "â–¶ï¸ æ²¹ç®¡è§†é¢‘" },
      // Google ç»„ (å« Play åŒºåŸŸä¿®å¤)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "services.googleapis.cn",
              "googleapis.cn",
              "xn--ngstr-lra8j.com",
              "xn--ngstr-cn-8za9o.com"
            ]
          },
          {
            "rule_set": [
              "geoip-google",
              "geosite-google",
              "geosite-googlefcm",
              "geosite-google-play@cn"
            ]
          }
        ],
        "outbound": "ğŸ‡¬ è°·æ­ŒæœåŠ¡"
      },
      {
        "rule_set": ["geoip-apple", "geosite-apple"],
        "outbound": "ğŸ è‹¹æœæœåŠ¡"
      },
      {
        "rule_set": ["geoip-telegram", "geosite-telegram"],
        "outbound": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯"
      },
      { "rule_set": "geosite-microsoft", "outbound": "ğŸªŸ å¾®è½¯æœåŠ¡" },
      { "rule_set": "geosite-github", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },
      { "rule_set": "geosite-category-games", "outbound": "ğŸ® æ¸¸æˆæœåŠ¡" },
      { "port": 22, "outbound": "ğŸ”‘ SSHæœåŠ¡" },

      // 6. å¢ƒå¤–å…œåº•
      { "rule_set": "geosite-geolocation-!cn", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },
      { "clash_mode": "Global", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },

      // --- æ¼æ–— Level 4: ç‰©ç†å±‚ (IP Fallback) ---
      // 84KB Full GeoIPï¼Œç»ˆæå…œåº•
      { "rule_set": "geoip-cn", "outbound": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿" }
    ],
    "rule_set": [
      // CN - Level 1: Lite (20KB)
      {
        "tag": "geosite-cn-lite",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      // CN - Level 2: Geolocation (32KB)
      {
        "tag": "geosite-geolocation-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      // CN - Level 3: Full (443KB)
      {
        "tag": "geosite-cn-full",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      // CN - Level 4: GeoIP Full (84KB)
      {
        "tag": "geoip-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      // Foreign - Standard/Full (Accuracy Priority)
      {
        "tag": "geosite-google",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/google.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-geolocation-!cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-google",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/google.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-googlefcm",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/googlefcm.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      {
        "tag": "geosite-google@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/google@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      {
        "tag": "geosite-google-play@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/google-play@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿"
      },
      {
        "tag": "geosite-youtube",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/youtube.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-steam@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/steam@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-steam",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/steam.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-ai",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-ai-!cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-github",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/github.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-microsoft",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-category-games",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-games.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-apple",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/apple.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-apple",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/apple.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-telegram",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/telegram.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-telegram",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/telegram.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      // Specific Optimization - Lite Versions for CN
      {
        "tag": "geosite-category-games@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-games@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-microsoft@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-apple@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/apple@cn.srs",
        "download_detour": "ğŸ‡¨ğŸ‡³ å›½å†…ç›´è¿",
        "update_interval": "3d"
      }
    ]
  }
}