{
  "log": {
    "disabled": false,
    "level": "fatal",
    "timestamp": true
  },
  "experimental": {
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "external_ui": "zashboard",
      "external_ui_download_url": "https://ghfast.top/https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip",
      "external_ui_download_detour": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
      "secret": "${CLASH_API_SECRET}",
      "default_mode": "rule"
    },
    "cache_file": {
      "enabled": true,
      "store_rdrc": true,
      "store_fakeip": true
    }
  },
  "dns": {
    "servers": [
      {
        "tag": "google",
        "type": "https",
        "server": "8.8.4.4",
        "detour": "âš¡ è‡ªåŠ¨é€‰æ‹©"
      },
      {
        "tag": "local",
        "type": "https",
        "server": "223.5.5.5"
      },
      {
        "tag": "fakeip",
        "type": "fakeip",
        "inet4_range": "198.18.0.0/15"
      }
    ],
    "rules": [
      {
        "clash_mode": "Direct",
        "server": "local"
      },
      {
        "clash_mode": "Global",
        "query_type": ["A", "AAAA"],
        "server": "fakeip"
      },
      // DNS åˆ†æµï¼šä½¿ç”¨ Full è§„åˆ™ï¼Œç¡®ä¿æ‰€æœ‰å›½å†…åŸŸåï¼ˆå«å†·é—¨ï¼‰éƒ½èµ°å›½å†… DNS
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "beautifulcarrot.com",
              "miceworld.top",
              "0xc.xyz",
              "0xc.cn",
              "ash.do",
              "ash6.com",
              "ssh.github.com"
            ]
          },
          {
            // DNS å±‚é¢ä¸éœ€è¦æ¼æ–—ï¼Œç›´æ¥ç”¨å…¨é›†ï¼Œä¿è¯è§£æå‡†ç¡®æ€§
            "rule_set": [
              "geosite-cn-full",
              "geosite-geolocation-cn",
              "geosite-cn-lite"
            ]
          }
        ],
        "server": "local"
      },
      // DNS ä¾§ Steam ç­–ç•¥ - å•†åº—/ç¤¾åŒº -> googleï¼ŒCM/CDN -> local
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "steampowered.com",
              "steamcommunity.com",
              "steamgames.com"
            ]
          }
        ],
        "server": "google"
      },
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "cm.steampowered.com",
              "steamserver.net",
              "steamcontent.com",
              "steamstatic.com"
            ]
          },
          {
            "rule_set": "geosite-steam@cn"
          }
        ],
        "server": "local"
      },
      // Google ç»„ (ä¼˜å…ˆå¤„ç† Play å•†åº—é€ä¸­åŸŸå)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "services.googleapis.cn",
              "googleapis.cn",
              "xn--ngstr-lra8j.com",
              "xn--ngstr-cn-8za9o.com"
            ]
          },
          {
            "rule_set": ["geosite-google", "geosite-geolocation-!cn"]
          }
        ],
        "server": "google"
      },
      {
        "query_type": ["A", "AAAA"],
        "server": "fakeip"
      }
    ],
    "final": "google",
    "strategy": "ipv4_only",
    "independent_cache": true,
    "reverse_mapping": true
  },
  "inbounds": [
    {
      "type": "tun",
      "tag": "tun-in",
      "stack": "mixed",
      "address": ["172.18.0.1/30"],
      "auto_route": true,
      "auto_redirect": true,
      // Win11 åˆ†æ”¯éœ€æ”¹ä¸º false
      "strict_route": true,
      "mtu": 9000,
      "route_exclude_address_set": ["geoip-cn"],
      // ç‰©ç† Bypass å›½å†… IP
      "platform": {
        "http_proxy": {
          "enabled": true,
          "server": "127.0.0.1",
          "server_port": 7890
        }
      }
    },
    {
      "type": "mixed",
      "listen": "0.0.0.0",
      "listen_port": 7890,
      "users": []
    },
    {
      "type": "direct",
      "tag": "dns-in",
      "network": "udp",
      "listen": "127.0.0.1",
      "listen_port": 6053
    }
  ],
  "providers": [
    {
      "tag": "${PROVIDER_NAME_1}",
      "type": "remote",
      "url": "${SUB_URL_1}",
      "path": "./provider_1_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "direct",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "1m"
      }
    },
    {
      "tag": "${PROVIDER_NAME_2}",
      "type": "remote",
      "url": "${SUB_URL_2}",
      "path": "./provider_2_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "direct",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "1m"
      }
    },
    {
      "tag": "${PROVIDER_NAME_3}",
      "type": "remote",
      "url": "${SUB_URL_3}",
      "path": "./provider_3_cache.yaml",
      "update_interval": "12h",
      "user_agent": "clash.meta",
      "download_detour": "direct",
      "health_check": {
        "enabled": true,
        "url": "http://cp.cloudflare.com/generate_204",
        "interval": "1m"
      }
    }
  ],
  "outbounds": [
    {
      "tag": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3",
        "direct"
      ],
      "default": "âš¡ è‡ªåŠ¨é€‰æ‹©"
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3",
      "type": "selector",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true
    },
    {
      "tag": "âœ¨ Gemini",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ],
      "default": "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)"
    },
    {
      "tag": "ğŸ¤– AIå·¥å…·",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ],
      "default": "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)"
    },
    {
      "tag": "ğŸ® æ¸¸æˆæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ® SteamæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸªŸ å¾®è½¯æœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "â–¶ï¸ æ²¹ç®¡è§†é¢‘",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ‡¬ è°·æ­ŒæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ è‹¹æœæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "ğŸ”‘ SSHæœåŠ¡",
      "type": "selector",
      "outbounds": [
        "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
        "direct",
        "ğŸ‡­ğŸ‡° é¦™æ¸¯",
        "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
        "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
        "ğŸ‡°ğŸ‡· éŸ©å›½",
        "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
        "ğŸ‡ºğŸ‡¸ ç¾å›½",
        "âš¡ è‡ªåŠ¨é€‰æ‹©",
        "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢1",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢2",
        "ğŸŒ€ æ‰‹åŠ¨åˆ‡æ¢3"
      ]
    },
    {
      "tag": "âš¡ è‡ªåŠ¨é€‰æ‹©",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "exclude": "å‰©ä½™|æµé‡|é‡ç½®|åˆ°æœŸ|è¿‡æœŸ|è®¢é˜…|å®˜ç½‘|é¢‘é“|TG|Telegram|ç¾¤ç»„|æ›´æ–°|å¥—é¤|ç»­è´¹|å®¢æœ|é€šæŠ¥|å¤±è”",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "âš¡ è‡ªåŠ¨é€‰æ‹©(æ’é™¤é¦™æ¸¯)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "exclude": "ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|HongKong|å‰©ä½™|æµé‡|é‡ç½®|åˆ°æœŸ|è¿‡æœŸ|è®¢é˜…|å®˜ç½‘|é¢‘é“|TG|Telegram|ç¾¤ç»„|æ›´æ–°|å¥—é¤|ç»­è´¹|å®¢æœ|é€šæŠ¥|å¤±è”",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡­ğŸ‡° é¦™æ¸¯ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|HongKong",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡­ğŸ‡° é¦™æ¸¯",
      "type": "selector",
      "outbounds": ["ğŸ‡­ğŸ‡° é¦™æ¸¯ (è‡ªåŠ¨é€‰æ‹©)"],
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|HongKong",
      "default": "ğŸ‡­ğŸ‡° é¦™æ¸¯ (è‡ªåŠ¨é€‰æ‹©)"
    },
    {
      "tag": "ğŸ‡¹ğŸ‡¼ å°æ¹¾ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¹ğŸ‡¼|å°æ¹¾|TW|Taiwan",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡¹ğŸ‡¼ å°æ¹¾",
      "type": "selector",
      "outbounds": ["ğŸ‡¹ğŸ‡¼ å°æ¹¾ (è‡ªåŠ¨é€‰æ‹©)"],
      "default": "ğŸ‡¹ğŸ‡¼ å°æ¹¾ (è‡ªåŠ¨é€‰æ‹©)",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¹ğŸ‡¼|å°æ¹¾|TW|Taiwan"
    },
    {
      "tag": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
      "type": "selector",
      "outbounds": ["ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (è‡ªåŠ¨é€‰æ‹©)"],
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan",
      "default": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬ (è‡ªåŠ¨é€‰æ‹©)"
    },
    {
      "tag": "ğŸ‡°ğŸ‡· éŸ©å›½ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡°ğŸ‡·|éŸ©å›½|KR|Korea",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡°ğŸ‡· éŸ©å›½",
      "type": "selector",
      "outbounds": ["ğŸ‡°ğŸ‡· éŸ©å›½ (è‡ªåŠ¨é€‰æ‹©)"],
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡°ğŸ‡·|éŸ©å›½|KR|Korea",
      "default": "ğŸ‡°ğŸ‡· éŸ©å›½ (è‡ªåŠ¨é€‰æ‹©)"
    },
    {
      "tag": "ğŸ‡¸ğŸ‡¬ ç‹®åŸ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|SG|Singapore",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡¸ğŸ‡¬ ç‹®åŸ",
      "type": "selector",
      "outbounds": ["ğŸ‡¸ğŸ‡¬ ç‹®åŸ (è‡ªåŠ¨é€‰æ‹©)"],
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|SG|Singapore",
      "default": "ğŸ‡¸ğŸ‡¬ ç‹®åŸ (è‡ªåŠ¨é€‰æ‹©)"
    },
    {
      "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½ (è‡ªåŠ¨é€‰æ‹©)",
      "type": "urltest",
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡ºğŸ‡¸|ç¾å›½|US|United States",
      "url": "http://cp.cloudflare.com/generate_204",
      "tolerance": 10,
      "interval": "1m",
      "idle_timeout": "15m",
      "interrupt_exist_connections": false
    },
    {
      "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½ (è‡ªåŠ¨é€‰æ‹©)"],
      "providers": [
        "${PROVIDER_NAME_1}",
        "${PROVIDER_NAME_2}",
        "${PROVIDER_NAME_3}"
      ],
      "use_all_providers": true,
      "include": "ğŸ‡ºğŸ‡¸|ç¾å›½|US|United States",
      "default": "ğŸ‡ºğŸ‡¸ ç¾å›½ (è‡ªåŠ¨é€‰æ‹©)"
    },
    {
      "tag": "direct",
      "type": "direct"
    }
  ],
  "route": {
    "auto_detect_interface": true,
    "default_domain_resolver": "local",
    "final": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©",
    "rules": [
      { "action": "sniff" },
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "protocol": "dns" },
          { "port": 53 },
          { "inbound": ["dns-in"] }
        ],
        "action": "hijack-dns"
      },
      // 0. åŸºç¡€æ‹¦æˆª (Reject)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "port": 853 },
          { "network": "udp", "port": 443 },
          { "protocol": ["stun", "quic"] }
        ],
        "action": "reject"
      },
      // 0. åŸºç¡€ç›´è¿ (Private/LAN)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          { "ip_is_private": true },
          { "protocol": ["ntp", "bittorrent"] },
          { "port": 123 },
          { "domain_suffix": [".lan"] }
        ],
        "outbound": "direct"
      },

      // --- æ¼æ–— Level 1: æ€¥é€Ÿå±‚ (Lite + Manual) ---
      // 20KB æå°ä½“ç§¯ï¼Œå‘½ä¸­ 90% æ—¥å¸¸æµé‡ï¼Œå¸¸é©» L1 Cache
      {
        "rule_set": [
          "geosite-cn-lite",
          "geosite-category-games@cn",
          "geosite-microsoft@cn",
          "geosite-apple@cn"
        ],
        "domain": [
          "beautifulcarrot.com",
          "miceworld.top",
          "0xc.xyz",
          "0xc.cn",
          "ash.do",
          "ash6.com",
          "ssh.github.com"
        ],
        "outbound": "direct"
      },

      // --- æ¼æ–— Level 1.5: Steam ä¸“é¡¹ç­–ç•¥ (Dogfight360 ä¿®æ­£æ–¹æ¡ˆ) ---
      // ç¡®ä¿ IPCountry: CNï¼Œä¸‹è½½æ»¡é€Ÿï¼Œå•†åº—ç§’å¼€
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain_suffix": [
              "cm.steampowered.com",
              "steamserver.net",
              "steamcontent.com"
            ]
          },
          { "rule_set": "geosite-steam@cn" },
          {
            "ip_cidr": [
              "45.121.184.0/24",
              "103.10.124.0/23",
              "103.28.54.0/24",
              "146.66.152.0/24",
              "146.66.155.0/24",
              "153.254.86.0/24",
              "155.133.224.0/22",
              "155.133.230.0/24",
              "155.133.232.0/23",
              "155.133.234.0/24",
              "155.133.236.0/22",
              "155.133.240.0/23",
              "155.133.244.0/23",
              "155.133.246.0/24",
              "155.133.248.0/21",
              "162.254.192.0/21",
              "185.25.182.0/23",
              "190.217.32.0/22",
              "192.69.96.0/22",
              "205.196.6.0/24",
              "208.64.200.0/22",
              "208.78.164.0/22",
              "205.185.194.0/24"
            ]
          }
        ],
        "outbound": "direct"
      },
      // C. Steam å•†åº—/ç¤¾åŒºä»£ç†
      { "rule_set": "geosite-steam", "outbound": "ğŸ® SteamæœåŠ¡" },
      // --- æ¼æ–— Level 2: åœ°ç¼˜å±‚ (Geolocation) ---
      // 32KBï¼Œå¤„ç† CDN å’Œè·¨å›½å…¬å¸ä¸­å›½åŒº
      {
        "rule_set": "geosite-geolocation-cn",
        "outbound": "direct"
      },
      // --- æ¼æ–— Level 3: è¦†ç›–å±‚ (Full CN) ---
      // 443KB å¤§è§„åˆ™ï¼Œæ•æ‰æ‰€æœ‰é•¿å°¾å†·é—¨åŸŸå
      {
        "rule_set": "geosite-cn-full",
        "outbound": "direct"
      },

      // 4. æ¡Œé¢ç«¯ç™½åå• (Win11 ä¿ç•™ï¼ŒMobile åˆ†æ”¯éœ€é€šè¿‡å˜åŸºç§»é™¤)
      // ç­–ç•¥ï¼šå‰”é™¤å·²å¼ƒç”¨/è‡ƒè‚¿è½¯ä»¶ï¼Œä»…ä¿ç•™æ ¸å¿ƒç”Ÿäº§åŠ›ä¸å±€åŸŸç½‘åä½œå·¥å…·
      // æ³¨æ„ï¼šä¸åŒ…å« Steamï¼Œä»¥ä¾¿é€šè¿‡åŸŸååˆ†æµå®ç°â€œå•†åº—èµ°èŠ‚ç‚¹ï¼Œä¸‹è½½èµ°ç›´è¿â€
      {
        "process_name": [
          // è…¾è®¯ç³» (å« Linux ç‰ˆå¾®ä¿¡/QQ)
          "WeChat.exe",
          "wechat",
          "WeChat",
          "QQ.exe",
          "linuxqq",
          "TIM.exe",
          "WXWork.exe",
          "wxwork",
          // ç”Ÿäº§åŠ›å·¥å…·
          "DingTalk.exe",
          "dingtalk",
          "Feishu.exe",
          "feishu",
          "NeteaseCloudMusic.exe",
          "netease-cloud-music",
          "QQMusic.exe",
          "qqmusic",
          "Kugou.exe",
          "KwMusic.exe",
          "Bilibili.exe",
          "bilibili",
          "QQLive.exe",
          "Youku.exe",
          "iQiyi.exe",
          "WeMeet.exe",
          "wemeetapp",
          // åŠå…¬ã€ç½‘ç›˜ä¸æ¸¸æˆè¾…åŠ©
          "WPS.exe",
          "wps",
          "wpspdf.exe",
          "et.exe",
          "wpp.exe",
          "BaiduNetdisk.exe",
          "baidunetdisk",
          "AliyunPan.exe",
          "aliyunpan",
          "Quark.exe",
          "Quark",
          "WeGame.exe",
          "wegame",
          "UU.exe",
          "Heybox.exe",
          // å±€åŸŸç½‘å‘ç°ä¸æ ¸å¿ƒåŒæ­¥ (KDE Connect ä¸ Localsend æ ¸å¿ƒä¿æŠ¤)
          "kdeconnectd.exe",
          "kdeconnectd",
          "kdeconnect-app.exe",
          "kdeconnect-app",
          "kdeconnect-indicator.exe",
          "kdeconnect-handler.exe",
          "localsend_app.exe",
          "localsend_app",
          "AnyDesk.exe",
          "anydesk",
          "RustDesk.exe",
          "rustdesk",
          // ç³»ç»Ÿè¿œæ§ç»„ä»¶ä¸ä¸²æµ
          "Moonlight.exe",
          "moonlight",
          "streaming_client.exe",
          "mstsc.exe",
          "remmina",
          "vncviewer.exe",
          "vncviewer",
          "tvnviewer.exe"
        ],
        "outbound": "direct"
      },
      // 5. ä»£ç†è§„åˆ™
      { "rule_set": "geosite-google-gemini", "outbound": "âœ¨ Gemini" },
      { "rule_set": "geosite-ai", "outbound": "ğŸ¤– AIå·¥å…·" },
      { "rule_set": "geosite-youtube", "outbound": "â–¶ï¸ æ²¹ç®¡è§†é¢‘" },
      // Google ç»„ (å« Play åŒºåŸŸä¿®å¤)
      {
        "type": "logical",
        "mode": "or",
        "rules": [
          {
            "domain": [
              "services.googleapis.cn",
              "googleapis.cn",
              "xn--ngstr-lra8j.com",
              "xn--ngstr-cn-8za9o.com"
            ]
          },
          {
            "rule_set": ["geoip-google", "geosite-google"]
          }
        ],
        "outbound": "ğŸ‡¬ è°·æ­ŒæœåŠ¡"
      },
      {
        "rule_set": ["geoip-apple", "geosite-apple"],
        "outbound": "ğŸ è‹¹æœæœåŠ¡"
      },
      {
        "rule_set": ["geoip-telegram", "geosite-telegram"],
        "outbound": "ğŸ“² ç”µæŠ¥æ¶ˆæ¯"
      },
      { "rule_set": "geosite-microsoft", "outbound": "ğŸªŸ å¾®è½¯æœåŠ¡" },
      { "rule_set": "geosite-github", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },
      { "rule_set": "geosite-category-games", "outbound": "ğŸ® æ¸¸æˆæœåŠ¡" },
      { "port": 22, "outbound": "ğŸ”‘ SSHæœåŠ¡" },

      // 6. å¢ƒå¤–å…œåº•
      { "rule_set": "geosite-geolocation-!cn", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },
      { "clash_mode": "Global", "outbound": "ğŸ”° èŠ‚ç‚¹é€‰æ‹©" },

      // --- æ¼æ–— Level 4: ç‰©ç†å±‚ (IP Fallback) ---
      // 84KB Full GeoIPï¼Œç»ˆæå…œåº•
      { "rule_set": "geoip-cn", "outbound": "direct" }
    ],
    "rule_set": [
      // CN - Level 1: Lite (20KB)
      {
        "tag": "geosite-cn-lite",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo-lite/geosite/cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      // CN - Level 2: Geolocation (32KB)
      {
        "tag": "geosite-geolocation-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      // CN - Level 3: Full (443KB)
      {
        "tag": "geosite-cn-full",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      // CN - Level 4: GeoIP Full (84KB)
      {
        "tag": "geoip-cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      // Foreign - Standard/Full (Accuracy Priority)
      {
        "tag": "geosite-google",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/google.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-geolocation-!cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/geolocation-!cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-google",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/google.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-google-gemini",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/google-gemini.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-youtube",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/youtube.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-steam@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/steam@cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-steam",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/steam.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-ai",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-ai-!cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-github",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/github.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-microsoft",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-category-games",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-games.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-apple",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/apple.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-apple",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/apple.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geoip-telegram",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geoip/telegram.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-telegram",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/telegram.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      // Specific Optimization - Lite Versions for CN
      {
        "tag": "geosite-category-games@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/category-games@cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-microsoft@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/microsoft@cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      },
      {
        "tag": "geosite-apple@cn",
        "type": "remote",
        "format": "binary",
        "url": "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@sing/geo/geosite/apple@cn.srs",
        "download_detour": "direct",
        "update_interval": "3d"
      }
    ]
  }
}
